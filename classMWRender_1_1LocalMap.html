<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenMW: MWRender::LocalMap Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenMW
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceMWRender.html">MWRender</a>      </li>
      <li class="navelem"><a class="el" href="classMWRender_1_1LocalMap.html">LocalMap</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">MWRender::LocalMap Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="MWRender::LocalMap" -->
<p>Local map rendering.  
 <a href="classMWRender_1_1LocalMap.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="localmap_8hpp_source.html">localmap.hpp</a>&gt;</code></p>

<p><a href="classMWRender_1_1LocalMap-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#aeabb5be5ec8b8c76a09238bf295d7e77">LocalMap</a> (<a class="el" href="classOEngine_1_1Render_1_1OgreRenderer.html">OEngine::Render::OgreRenderer</a> *, <a class="el" href="classMWRender_1_1RenderingManager.html">MWRender::RenderingManager</a> *rendering)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a6d6b35d27b1e1bdf6997a6f7c26b9455">~LocalMap</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a75b62b87a079e46f7aa1c67b8b73b90c">requestMap</a> (<a class="el" href="classMWWorld_1_1CellStore.html">MWWorld::CellStore</a> *cell, float zMin, float zMax)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a9204c1e8739ebf2cc42bf262dbfbaf47">requestMap</a> (<a class="el" href="classMWWorld_1_1CellStore.html">MWWorld::CellStore</a> *cell, Ogre::AxisAlignedBox bounds)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#ae76ef2ffa53b658f74bbca6970b194ed">updatePlayer</a> (const Ogre::Vector3 &amp;position, const Ogre::Quaternion &amp;orientation)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a5743e87ef1cf3acd45df4e17acd84dbf">saveFogOfWar</a> (<a class="el" href="classMWWorld_1_1CellStore.html">MWWorld::CellStore</a> *cell)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a3b971faf9f3571ff24adc0aa505058ea">getInteriorMapPosition</a> (Ogre::Vector2 pos, float &amp;nX, float &amp;nY, int &amp;x, int &amp;y)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#ac2a7a13033d4ee6fdb40670023ce9eef">isPositionExplored</a> (float nX, float nY, int x, int y, bool interior)</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const Ogre::Vector2&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a84732604dff3ad497efbc9c914a94596">rotatePoint</a> (const Ogre::Vector2 &amp;p, const Ogre::Vector2 &amp;c, const float angle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a703b321651f3dd20b6c79fcee57d2449">render</a> (const float x, const float y, const float zlow, const float zhigh, const float xw, const float yw, const std::string &amp;texture)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#ae2a12c6c295fb0f7c665587fc0af00e0">saveTexture</a> (const std::string &amp;texname, const std::string &amp;filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a498c629de57fabea79d3d37961cff14a">coordStr</a> (const int x, const int y)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a9afd6b3cf4306219cd1c7e1c15502592">deleteBuffers</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOEngine_1_1Render_1_1OgreRenderer.html">OEngine::Render::OgreRenderer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#aa25c0e33d3e73197eef2ec588b039e37">mRendering</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMWRender_1_1RenderingManager.html">MWRender::RenderingManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a975e5ae963f23d12616c678090f8464f">mRenderingManager</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Ogre::Camera *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a400c504c68ef85179354d0724fcc4a2b">mCellCamera</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Ogre::SceneNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a33a26a3d3907b1e05e49636b1b0d5599">mCameraNode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Ogre::SceneNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a3bcfd22e901911b473ca787557c90820">mCameraPosNode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Ogre::SceneNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a63b81b7ba6b22a0efd56ba0f92129c3f">mCameraRotNode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Ogre::Light *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a448f88c1f97c7a2403f09d75658c0865">mLight</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a43a64cc120d64b6aef0c0cb586a8f147">mAngle</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <br class="typebreak"/>
std::vector&lt; Ogre::uint32 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#af03fd2610cdb61db9802a853d1d5d67e">mBuffers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a5c03a770033b005d3ba4a660bd7e98eb">mInterior</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a8c0692ab72870df132f73e38bd2788d0">mCellX</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#ad55122c71856e04071fe39a444f5c4db">mCellY</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Ogre::AxisAlignedBox&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#adc338c988cfa8c46d9d59093bbc17103">mBounds</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a21e5310ebb789a954095c8818e24ca67">mInteriorName</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#a34072a6ba4d6f9272699ab757eaf958e">sMapResolution</a> = 512</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#ab93760515e51d3ada845f5449465850d">sFogOfWarResolution</a> = 32</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#af7b8c8a3e3f45e3d564881f2cebae83f">sFogOfWarSkip</a> = 2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMWRender_1_1LocalMap.html#ab61f52210d0107e44faaac69e8623839">sSize</a> = 8192</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Local map rendering. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aeabb5be5ec8b8c76a09238bf295d7e77"></a><!-- doxytag: member="MWRender::LocalMap::LocalMap" ref="aeabb5be5ec8b8c76a09238bf295d7e77" args="(OEngine::Render::OgreRenderer *, MWRender::RenderingManager *rendering)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMWRender_1_1LocalMap.html#aeabb5be5ec8b8c76a09238bf295d7e77">LocalMap::LocalMap</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOEngine_1_1Render_1_1OgreRenderer.html">OEngine::Render::OgreRenderer</a> *&#160;</td>
          <td class="paramname"><em>rend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMWRender_1_1RenderingManager.html">MWRender::RenderingManager</a> *&#160;</td>
          <td class="paramname"><em>rendering</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6d6b35d27b1e1bdf6997a6f7c26b9455"></a><!-- doxytag: member="MWRender::LocalMap::~LocalMap" ref="a6d6b35d27b1e1bdf6997a6f7c26b9455" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMWRender_1_1LocalMap.html#a6d6b35d27b1e1bdf6997a6f7c26b9455">LocalMap::~LocalMap</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a498c629de57fabea79d3d37961cff14a"></a><!-- doxytag: member="MWRender::LocalMap::coordStr" ref="a498c629de57fabea79d3d37961cff14a" args="(const int x, const int y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classMWRender_1_1LocalMap.html#a498c629de57fabea79d3d37961cff14a">LocalMap::coordStr</a> </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9afd6b3cf4306219cd1c7e1c15502592"></a><!-- doxytag: member="MWRender::LocalMap::deleteBuffers" ref="a9afd6b3cf4306219cd1c7e1c15502592" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMWRender_1_1LocalMap.html#a9afd6b3cf4306219cd1c7e1c15502592">LocalMap::deleteBuffers</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3b971faf9f3571ff24adc0aa505058ea"></a><!-- doxytag: member="MWRender::LocalMap::getInteriorMapPosition" ref="a3b971faf9f3571ff24adc0aa505058ea" args="(Ogre::Vector2 pos, float &amp;nX, float &amp;nY, int &amp;x, int &amp;y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMWRender_1_1LocalMap.html#a3b971faf9f3571ff24adc0aa505058ea">LocalMap::getInteriorMapPosition</a> </td>
          <td>(</td>
          <td class="paramtype">Ogre::Vector2&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>nX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>nY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the interior map texture index and normalized position on this texture, given a world position (in ogre coordinates) </p>

</div>
</div>
<a class="anchor" id="ac2a7a13033d4ee6fdb40670023ce9eef"></a><!-- doxytag: member="MWRender::LocalMap::isPositionExplored" ref="ac2a7a13033d4ee6fdb40670023ce9eef" args="(float nX, float nY, int x, int y, bool interior)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classMWRender_1_1LocalMap.html#ac2a7a13033d4ee6fdb40670023ce9eef">LocalMap::isPositionExplored</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>nX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>nY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>interior</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if a given position is explored by the player (i.e. not obscured by fog of war) </p>

</div>
</div>
<a class="anchor" id="a703b321651f3dd20b6c79fcee57d2449"></a><!-- doxytag: member="MWRender::LocalMap::render" ref="a703b321651f3dd20b6c79fcee57d2449" args="(const float x, const float y, const float zlow, const float zhigh, const float xw, const float yw, const std::string &amp;texture)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMWRender_1_1LocalMap.html#a703b321651f3dd20b6c79fcee57d2449">LocalMap::render</a> </td>
          <td>(</td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>zlow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>zhigh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>xw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>yw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>texture</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a75b62b87a079e46f7aa1c67b8b73b90c"></a><!-- doxytag: member="MWRender::LocalMap::requestMap" ref="a75b62b87a079e46f7aa1c67b8b73b90c" args="(MWWorld::CellStore *cell, float zMin, float zMax)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMWRender_1_1LocalMap.html#a75b62b87a079e46f7aa1c67b8b73b90c">LocalMap::requestMap</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMWWorld_1_1CellStore.html">MWWorld::CellStore</a> *&#160;</td>
          <td class="paramname"><em>cell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>zMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>zMax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Request the local map for an exterior cell. </p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>It will either be loaded from a disk cache, or rendered if it is not already cached. </dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">cell</td><td>exterior cell </td></tr>
    <tr><td class="paramname">zMin</td><td>min height of objects or terrain in cell </td></tr>
    <tr><td class="paramname">zMax</td><td>max height of objects or terrain in cell </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9204c1e8739ebf2cc42bf262dbfbaf47"></a><!-- doxytag: member="MWRender::LocalMap::requestMap" ref="a9204c1e8739ebf2cc42bf262dbfbaf47" args="(MWWorld::CellStore *cell, Ogre::AxisAlignedBox bounds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMWRender_1_1LocalMap.html#a75b62b87a079e46f7aa1c67b8b73b90c">MWRender::LocalMap::requestMap</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMWWorld_1_1CellStore.html">MWWorld::CellStore</a> *&#160;</td>
          <td class="paramname"><em>cell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ogre::AxisAlignedBox&#160;</td>
          <td class="paramname"><em>bounds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Request the local map for an interior cell. </p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>It will either be loaded from a disk cache, or rendered if it is not already cached. </dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">cell</td><td>interior cell </td></tr>
    <tr><td class="paramname">bounds</td><td>bounding box of the cell </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a84732604dff3ad497efbc9c914a94596"></a><!-- doxytag: member="MWRender::LocalMap::rotatePoint" ref="a84732604dff3ad497efbc9c914a94596" args="(const Ogre::Vector2 &amp;p, const Ogre::Vector2 &amp;c, const float angle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const Ogre::Vector2 <a class="el" href="classMWRender_1_1LocalMap.html#a84732604dff3ad497efbc9c914a94596">LocalMap::rotatePoint</a> </td>
          <td>(</td>
          <td class="paramtype">const Ogre::Vector2 &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Ogre::Vector2 &amp;&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>angle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5743e87ef1cf3acd45df4e17acd84dbf"></a><!-- doxytag: member="MWRender::LocalMap::saveFogOfWar" ref="a5743e87ef1cf3acd45df4e17acd84dbf" args="(MWWorld::CellStore *cell)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMWRender_1_1LocalMap.html#a5743e87ef1cf3acd45df4e17acd84dbf">LocalMap::saveFogOfWar</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMWWorld_1_1CellStore.html">MWWorld::CellStore</a> *&#160;</td>
          <td class="paramname"><em>cell</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Save the fog of war for the current cell to disk. </p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>This should be called before loading a new cell, as well as when the game is quit. </dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">current</td><td>cell </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae2a12c6c295fb0f7c665587fc0af00e0"></a><!-- doxytag: member="MWRender::LocalMap::saveTexture" ref="ae2a12c6c295fb0f7c665587fc0af00e0" args="(const std::string &amp;texname, const std::string &amp;filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMWRender_1_1LocalMap.html#ae2a12c6c295fb0f7c665587fc0af00e0">LocalMap::saveTexture</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>texname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae76ef2ffa53b658f74bbca6970b194ed"></a><!-- doxytag: member="MWRender::LocalMap::updatePlayer" ref="ae76ef2ffa53b658f74bbca6970b194ed" args="(const Ogre::Vector3 &amp;position, const Ogre::Quaternion &amp;orientation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMWRender_1_1LocalMap.html#ae76ef2ffa53b658f74bbca6970b194ed">LocalMap::updatePlayer</a> </td>
          <td>(</td>
          <td class="paramtype">const Ogre::Vector3 &amp;&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Ogre::Quaternion &amp;&#160;</td>
          <td class="paramname"><em>orientation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the position &amp; direction of the player. </p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>This is used to draw a "fog of war" effect to hide areas on the map the player has not discovered yet. </dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>(OGRE coordinates) </td></tr>
    <tr><td class="paramname">camera</td><td>orientation (OGRE coordinates) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a43a64cc120d64b6aef0c0cb586a8f147"></a><!-- doxytag: member="MWRender::LocalMap::mAngle" ref="a43a64cc120d64b6aef0c0cb586a8f147" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classMWRender_1_1LocalMap.html#a43a64cc120d64b6aef0c0cb586a8f147">MWRender::LocalMap::mAngle</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adc338c988cfa8c46d9d59093bbc17103"></a><!-- doxytag: member="MWRender::LocalMap::mBounds" ref="adc338c988cfa8c46d9d59093bbc17103" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ogre::AxisAlignedBox <a class="el" href="classMWRender_1_1LocalMap.html#adc338c988cfa8c46d9d59093bbc17103">MWRender::LocalMap::mBounds</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af03fd2610cdb61db9802a853d1d5d67e"></a><!-- doxytag: member="MWRender::LocalMap::mBuffers" ref="af03fd2610cdb61db9802a853d1d5d67e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::vector&lt;Ogre::uint32&gt; &gt; <a class="el" href="classMWRender_1_1LocalMap.html#af03fd2610cdb61db9802a853d1d5d67e">MWRender::LocalMap::mBuffers</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a33a26a3d3907b1e05e49636b1b0d5599"></a><!-- doxytag: member="MWRender::LocalMap::mCameraNode" ref="a33a26a3d3907b1e05e49636b1b0d5599" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ogre::SceneNode* <a class="el" href="classMWRender_1_1LocalMap.html#a33a26a3d3907b1e05e49636b1b0d5599">MWRender::LocalMap::mCameraNode</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3bcfd22e901911b473ca787557c90820"></a><!-- doxytag: member="MWRender::LocalMap::mCameraPosNode" ref="a3bcfd22e901911b473ca787557c90820" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ogre::SceneNode* <a class="el" href="classMWRender_1_1LocalMap.html#a3bcfd22e901911b473ca787557c90820">MWRender::LocalMap::mCameraPosNode</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a63b81b7ba6b22a0efd56ba0f92129c3f"></a><!-- doxytag: member="MWRender::LocalMap::mCameraRotNode" ref="a63b81b7ba6b22a0efd56ba0f92129c3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ogre::SceneNode* <a class="el" href="classMWRender_1_1LocalMap.html#a63b81b7ba6b22a0efd56ba0f92129c3f">MWRender::LocalMap::mCameraRotNode</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a400c504c68ef85179354d0724fcc4a2b"></a><!-- doxytag: member="MWRender::LocalMap::mCellCamera" ref="a400c504c68ef85179354d0724fcc4a2b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ogre::Camera* <a class="el" href="classMWRender_1_1LocalMap.html#a400c504c68ef85179354d0724fcc4a2b">MWRender::LocalMap::mCellCamera</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c0692ab72870df132f73e38bd2788d0"></a><!-- doxytag: member="MWRender::LocalMap::mCellX" ref="a8c0692ab72870df132f73e38bd2788d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classMWRender_1_1LocalMap.html#a8c0692ab72870df132f73e38bd2788d0">MWRender::LocalMap::mCellX</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad55122c71856e04071fe39a444f5c4db"></a><!-- doxytag: member="MWRender::LocalMap::mCellY" ref="ad55122c71856e04071fe39a444f5c4db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classMWRender_1_1LocalMap.html#ad55122c71856e04071fe39a444f5c4db">MWRender::LocalMap::mCellY</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5c03a770033b005d3ba4a660bd7e98eb"></a><!-- doxytag: member="MWRender::LocalMap::mInterior" ref="a5c03a770033b005d3ba4a660bd7e98eb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classMWRender_1_1LocalMap.html#a5c03a770033b005d3ba4a660bd7e98eb">MWRender::LocalMap::mInterior</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a21e5310ebb789a954095c8818e24ca67"></a><!-- doxytag: member="MWRender::LocalMap::mInteriorName" ref="a21e5310ebb789a954095c8818e24ca67" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classMWRender_1_1LocalMap.html#a21e5310ebb789a954095c8818e24ca67">MWRender::LocalMap::mInteriorName</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a448f88c1f97c7a2403f09d75658c0865"></a><!-- doxytag: member="MWRender::LocalMap::mLight" ref="a448f88c1f97c7a2403f09d75658c0865" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ogre::Light* <a class="el" href="classMWRender_1_1LocalMap.html#a448f88c1f97c7a2403f09d75658c0865">MWRender::LocalMap::mLight</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa25c0e33d3e73197eef2ec588b039e37"></a><!-- doxytag: member="MWRender::LocalMap::mRendering" ref="aa25c0e33d3e73197eef2ec588b039e37" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOEngine_1_1Render_1_1OgreRenderer.html">OEngine::Render::OgreRenderer</a>* <a class="el" href="classMWRender_1_1LocalMap.html#aa25c0e33d3e73197eef2ec588b039e37">MWRender::LocalMap::mRendering</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a975e5ae963f23d12616c678090f8464f"></a><!-- doxytag: member="MWRender::LocalMap::mRenderingManager" ref="a975e5ae963f23d12616c678090f8464f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMWRender_1_1RenderingManager.html">MWRender::RenderingManager</a>* <a class="el" href="classMWRender_1_1LocalMap.html#a975e5ae963f23d12616c678090f8464f">MWRender::LocalMap::mRenderingManager</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab93760515e51d3ada845f5449465850d"></a><!-- doxytag: member="MWRender::LocalMap::sFogOfWarResolution" ref="ab93760515e51d3ada845f5449465850d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classMWRender_1_1LocalMap.html#ab93760515e51d3ada845f5449465850d">MWRender::LocalMap::sFogOfWarResolution</a> = 32<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af7b8c8a3e3f45e3d564881f2cebae83f"></a><!-- doxytag: member="MWRender::LocalMap::sFogOfWarSkip" ref="af7b8c8a3e3f45e3d564881f2cebae83f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classMWRender_1_1LocalMap.html#af7b8c8a3e3f45e3d564881f2cebae83f">MWRender::LocalMap::sFogOfWarSkip</a> = 2<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a34072a6ba4d6f9272699ab757eaf958e"></a><!-- doxytag: member="MWRender::LocalMap::sMapResolution" ref="a34072a6ba4d6f9272699ab757eaf958e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classMWRender_1_1LocalMap.html#a34072a6ba4d6f9272699ab757eaf958e">MWRender::LocalMap::sMapResolution</a> = 512<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab61f52210d0107e44faaac69e8623839"></a><!-- doxytag: member="MWRender::LocalMap::sSize" ref="ab61f52210d0107e44faaac69e8623839" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classMWRender_1_1LocalMap.html#ab61f52210d0107e44faaac69e8623839">MWRender::LocalMap::sSize</a> = 8192<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>apps/openmw/mwrender/<a class="el" href="localmap_8hpp_source.html">localmap.hpp</a></li>
<li>apps/openmw/mwrender/<a class="el" href="localmap_8cpp.html">localmap.cpp</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Jan 14 2014 10:03:51 for OpenMW by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
